### 存储&初始化内存空间

* 需占用内存/显存空间：
  $$
  S=\frac {参数量*10^9*字符占用大小}{1024^3}
    
  $$
  对于参数量为6b的chatglm，若采用半精度fp16，每个字符占用大小为2bit，则需占用内存/显存空间约为11.2G

### 混合精度训练

![img](https://pic4.zhimg.com/80/v2-5e80264a8fe8ffaf312d08a50ce103eb_1440w.webp)

	* fp16 

​		取值范围计算公式：
$$
S=(-1)^{sign} *(1.0+fraction)*2^{(exponent-15)}
$$
exponent取值范围[0,30]、fraction取值范围（0，1）
$$
S_{max}= 2^{16}  ;S_{min} =-2^{16}
$$
​			通过fp16的表达公式可知，增加fraction可以提高表示的精度，增加exponent可以提高表示的范围。计算机中存储位数是有限的，所以需要在表示范围和精度之间权衡，如果fraction过大，此时获得了较高的精度，但是可以表示的数值范围就有限。

 * bf



